<!DOCTYPE html>
<html>
<head>
    <title>Fortress of Keys</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    
    <link rel="stylesheet" type="text/css" href="css/all.css" /> 
    
    <script src="js/all.js"></script>
    
</head>
<body>

   <div id="login" data-role="page" data-title="Fortress of Keys">
      <div data-role="header" data-position="fixed">
         <img src="images/logo/128.png" height="32" width="32">
         <h1> <span>Fortress of Keys</span> </h1>
         <a href="#login-server" class="ui-btn-right" data-theme="b" data-icon="check"> <span data-bind="text: l.sign_in"/> </a>
      </div>
      
      <div data-role="content">
      
         <div data-bind="if: login.username_not_found">
            <span class="error" data-bind="text: l.username_not_found"></span>
         </div>
         <div data-bind="if: login.authentification_failed">
            <span class="error" data-bind="text: l.authentification_failed"></span>         
         </div>
         <div data-bind="if: login.username_already_used">
            <span class="error" data-bind="text: l.username_already_used"></span>
         </div>
         <div data-bind="if: login.username_missing">
            <span class="error" data-bind="text: l.username_missing"></span>
         </div>
         <div data-bind="if: login.password_missing">
            <span class="error" data-bind="text: l.password_missing"></span>
         </div>
         
         <div data-role="fieldcontain">
            <label for="login_username" class="additional" data-bind="text: l.username"></label>
            <input id ="login_username" data-bind="value: login.username, attr: { placeholder: l.username }" autofocus>
         </div>
         
         <div data-role="fieldcontain">
            <label for="login_password" class="additional" data-bind="text: l.master_password"></label>
            <input id ="login_password" type="password" data-bind="value: login.password, attr: { placeholder: l.password }" class="login_on_enter">
         </div>
         
         <a href="#login-server" data-role="button" data-theme="b" data-icon="check"> <span data-bind="text: l.sign_in"/> </a>
         <a href="#register-server" data-mini="true" data-role="button" data-icon="edit"> <span data-bind="text: l.register"/> </a>
         
         <p>Fortress of Keys let's you store your precious passwords securely and accessible from every device.</p>
         
      </div>
      
      <div data-role="footer" data-position="fixed">
         <div data-role="navbar">
            <ul>
               <li><a href="#passwords" class="ui-btn-active ui-state-persist"> <span data-bind="text: l.passwords"></span> </a></li>
               <li><a href="#generator"> <span data-bind="text: l.generator"></span> </a></li>
            </ul>
         </div>
      </div>
   </div>

    <div id="passwords" data-role="page" data-bind="attr: { 'data-role': l.passwords }">
        <div data-role="header" data-position="fixed">
            <h1> <span data-bind="text: l.passwords"></span> </h1>
            <img src="images/logo/128.png" height="32" class="ui-btn-left">
            <a href="#new" class="ui-btn-right" data-icon="plus" data-theme="b" data-transition="none"> <span data-bind="text: l.new_entry"/> </a>
        </div>
        
        <div data-role="content">
            <ul data-role="listview" data-bind="foreach: list.entries, attr: { 'data-filter-placeholder': l.search }" data-split-icon="edit" data-filter="true">
               <li>
                  <a data-bind="attr: { href: '#details~' + index() }" data-rel="dialog" data-transition="none">
                  <h1  data-bind="text: title"></h1>
                  <dl class="ui-grid-a">
                     <div class="ui-block-a">
                        <dt data-bind="text: $parent.l.username"></dt>
                        <dd data-bind="text: username"></dd>
                     </div>
                     <div class="ui-block-b">
                        <dt data-bind="text: $parent.l.password"></dt>
                        <dd data-bind="text: password"></dd>
                     </div>
                  </dl>
                  <a data-bind="attr: { href: '#edit~' + index() }" data-transition="none"> </a>
               </li>
            </ul>
            <a href="#new" data-role="button"  data-icon="plus" data-theme="b" data-transition="none"> <span data-bind="text: l.new_entry"/> </a>
        </div>
        
      <div data-role="footer" data-position="fixed">
         <div data-role="navbar">
            <ul>
               <li><a href="#passwords" class="ui-btn-active ui-state-persist"> <span data-bind="text: l.passwords"></span> </a></li>
               <li><a href="#generator"> <span data-bind="text: l.generator"></span> </a></li>
            </ul>
         </div>
      </div>
    </div>
    
    <div id="new" data-role="page">   
      <div data-role="header" data-position="fixed">
         <a href="#passwords" data-icon="back" data-transition="none"> <span data-bind="text: l.back"/> </a>
         <h1> <span data-bind="text: l.new_entry"></span> </h1>
         <a href="#save-current" data-role="button" data-icon="check" data-theme="b"> <span data-bind="text: l.save"/> </a>
      </div>
      
      <div data-role="content">
         <div data-role="fieldcontain">
            <label for="new_title" class="additional" data-bind="text: l.title"></label>
            <input id ="new_title" class="important" data-bind="value: list.current_entry.title, attr: { placeholder: l.title }">
         </div>
         
         <div data-role="fieldcontain">
            <label for="new_username" class="additional" data-bind="text: l.username"></label>
            <input id ="new_username" class="important" data-bind="value: list.current_entry.username, attr: { placeholder: l.username }">
         </div>
         
         <div data-role="fieldcontain">
            <label for="new_password" class="additional" data-bind="text: l.password"></label>
            <input id ="new_password" class="important" data-bind="value: list.current_entry.password, attr: {placeholder: l.password }">            
         </div>
         
         <a href="#save-current" data-role="button" data-icon="check" data-theme="b"> <span data-bind="text: l.save"/> </a>
      </div>   
    </div>
    
   <div id="edit" data-role="page">
      <div data-role="header" data-position="fixed">
         <a href="#passwords" data-icon="back" data-transition="none"> <span data-bind="text: l.back"/> </a>
         <h1> <span data-bind="text: l.edit"></span> </h1>
         <a href="#delete-current" class="danger" data-icon="delete"> <span data-bind="text: l.delete"/> </a>
      </div>
       
      <div data-role="content">
         <div data-role="fieldcontain">
            <label for="edit_title" class="additional" data-bind="text: l.title"></label>
            <input id="edit_title" class="important" data-bind="value: list.current_entry.title, attr: { placeholder: l.title }">
         </div>
         
         <div data-role="fieldcontain">
            <label for="edit_username" class="additional" data-bind="text: l.username"></label>
            <input id="edit_username" class="important" data-bind="value: list.current_entry.username, attr: { placeholder: l.username }">
         </div>
         
         <div data-role="fieldcontain">
            <label for="edit_password" class="additional" data-bind="text: l.password"></label>
            <input id="edit_password" class="important" data-bind="value: list.current_entry.password, attr: {placeholder: l.password }">            
         </div>
         
         <a href="#save-current" data-role="button" data-icon="check" data-theme="b"> <span data-bind="text: l.save"/> </a>
       </div>
    </div>
    
   <div id="details" data-role="page">
      <div data-role="header">
         <h1><span data-bind="text: l.details"></span></h1>
      </div>
      <div data-role="content">
         <h2 data-bind="text: list.current_entry.title"></h2>
         <dl>
            <dt data-bind="text: l.username"></dt>
            <input readonly class="important" data-bind="value: list.current_entry.username"></input>
            <dt data-bind="text: l.password"></dt>
            <input readonly class="important" data-bind="value: list.current_entry.password"></input>
         </dl>
         <a data-bind="attr: { href: list.current_entry.to_mail() }" data-role="button"> <span data-bind="text: l.share"></span> </a>
         <a href="#passwords" data-role="button" data-theme="b" data-transition="none"> <span data-bind="text: l.back"/> </a>
      </div>
   </div>
   
   <div id="generator" data-role="page">
      <div data-role="header" data-position="fixed">
         <a href="#passwords" data-icon="back" data-transition="none"> <span data-bind="text: l.back"/> </a>
         <h1><span data-bind="text: l.generator"></span></h1>
         <img src="images/logo/128.png" height="32" class="ui-btn-right">
      </div>
      
      <div data-role="content">
         <form>
            <label for="tb_password"></label>
            <input id="tb_password" class="important" data-bind="value: generator.password" readonly>
            <a href="#generate" data-role="button" data-theme="b"> <span data-bind="text: l.generate"></span> </a>
            <div data-role="fieldcontain">
               <label for="slider_length" data-bind="text:l.length"></label>
               <input type="range" id="slider_length" data-bind="slider_value: generator.length" value="8" min="4" max="16" data-highlight="true">
            </div>
            <fieldset data-role="controlgroup">
               <input type="checkbox" id="cb_uppercase" data-bind="checked: generator.uppercase">
               <label for="cb_uppercase" data-bind="text: l.uppercase"></label>        
               <input type="checkbox" id="cb_numbers" data-bind="checked: generator.numbers"> 
               <label for="cb_numbers" data-bind="text: l.numbers"></label>
               <input type="checkbox" id="cb_special_characters" data-bind="checked: generator.special_characters">
               <label for="cb_special_characters" data-bind="text: l.special_characters"></label>
            </fieldset>
         </form>
      </div>
      
      <div data-role="footer" data-position="fixed">
         <div data-role="navbar">
            <ul>
               <li><a href="#passwords"> <span data-bind="text: l.passwords"></span> </a></li>
               <li><a href="#generator" class="ui-btn-active ui-state-persist"> <span data-bind="text: l.generator"></span> </a></li>
            </ul>
         </div>
      </div>
   </div>
    
</body>
</html>